<!DOCTYPE html>
<html>
	<head>
		<title>Crono</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<link rel="stylesheet" type="text/css" href="/static/index.css">
	</head>
		<body>
		
			<h1>Crono</h1>
			<p>Web-hosted API replacement for cron (or cron as a service ðŸ¤“)</p>

			<br>

			<p>Cron is a Unix utility for time-based job scheduling. A lot of tech  companies rely on it despite its flaws: it doesnâ€™t scale; it's error prone; it's hard to debug. Many big tech companies replaced it with their own solution. Some of them have even made their libraries open source (Airbnbâ€™s Chronos, Yelpâ€™s Tron, NextDoorâ€™s NDScheduler). However, even though they have solved some of the flaws mentioned above, they have done it with a focus on giant infrastructure. Smaller tech startups are still left in a situation where they are spending a lot of time and energy integrating and maintaining those open source libraries. Crono takes what the Airbnbs of the world have built that works for them and turn it into an web-hosted API that's efficient for every other tech startup out there.</p>

			<br>

			<ol>
				<li><a href="#authentication">Authentication</a></li>
				<li><a href="#example">Example</a></li>
				<li><a href="#endpoints">Endpoints</a></li>
				<ol>
					<li><span class="http-get">GET</span> <a href="#get-jobs">/jobs</a></li>
					<li><span class="http-post">POST</span> <a href="#post-jobs">/jobs</a></li>
					<li><span class="http-get">GET</span> <a href="#get-job">/jobs/{key}</a></li>
					<li><span class="http-delete">DELETE</span> <a href="#delete-job">/jobs/{key}</a></li>
				</ol>
				<li><a href="#triggers">Triggers</a></li>
				<ul>
					<li><a href="#crontab">Crontab</a></li>
				</ul>
				<li><a href="#tasks">Tasks</a></li>
				<ul>
					<li><a href="#get">GET</a></li>
				</ul>
				<li><a href="#support">Support</a></li>
			</ol>

			<h2>
				<a id="authentication"></a>
				Authentication
			</h2>

			<p>Requests to all <a href="#endpoints">endpoints</a> have to be authenticated with a <code>Authorization: Bearer {token}</code> header. See the <a href="#example">example</a> below for more details. Email <a href="mailto:support@crono.com">support@crono.com</a> to request a token.

			<h2>
				<a id="example"></a>
				Example
			</h2>

<pre>
<span class="quiet">$</span> curl https://www.crono.com/jobs \
  -X POST \
  -H "Authorization: Bearer {token}" \
  -H "Content-Type: application/json" \
  -d '{
    "<a href="#triggers">trigger</a>": {
      "name": "crontab",
      "params": {
        "seconds": "* * * * *"
      }
    },
    "<a href="#tasks">task</a>": {
      "name": "get",
      "params": {
        "url": "https://www.google.com/"
      }
    }'

<span class="quiet">HTTP/1.1 201 Created</span>

{
  "job": {
    "id": "c592763f2cdf456e9515422f4f09f0ce",
    "task": "callable",
    "trigger": "<IntervalTrigger (interval=datetime.timedelta(0, 600), start_date='2018-01-21 19:54:50 EST', timezone='America/New_York')>",
    "params": {
      "to": "georges.duverger@gmail.com",
      "subject": "Hello",
      "body": "World"
    }
  }
}
</pre>

			<h2>
				<a id="endpoints"></a>
				Endpoints
			</h2>

			<h3>
				<a id="get-jobs"></a>
				<span class="http-get">GET</span> /jobs
			</h3>

			<h3>
				<a id="post-jobs"></a>
				<span class="http-post">POST</span> /jobs
			</h3>

			<h3>
				<a id="get-job"></a>
				<span class="http-get">GET</span> /jobs/{key}
			</h3>

			<h3>
				<a id="delete-job"></a>
				<span class="http-delete">DELETE</span> /jobs/{key}
			</h3>

			<h2>
				<a id="triggers"></a>
				Triggers
			</h2>

			<h3>
				<a id="crontab"></a>
				Crontab
			</h3>

<pre>
{
  "name": "crontab",
  "params": {
    "expression": "* * * * *"
  }
}
</pre>
			<h2>
				<a id="tasks"></a>
				Tasks
			</h2>

			<h3>
				<a id="get"></a>
				GET
			</h3>

<pre>
{
  "name": "get",
  "params": {
    "url": "https://www.google.com/"
  }
}
</pre>

			<h2>
				<a id="support"></a>
				Support
			</h2>

			<p>Email <a href="support@crono.com">support@crono.com</a> for help.</p>

		</body>
</html>
